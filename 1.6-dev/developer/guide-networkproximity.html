<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.13"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <title>WRENCH: Network Proximity</title>
    <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <script type="text/javascript" src="jquery.smartmenus.js"></script>
    <!-- SmartMenus jQuery Bootstrap Addon -->
    <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
    <!-- SmartMenus jQuery plugin -->
</head>
<body>
<nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <a href="http://wrench-project.org" class="navbar-brand">
                <img alt="Logo" src="logo-horizontal.png" width="160" style="float: left"/>
                1.6-dev
            </a>
        </div>
        <div id="main-nav" class="nav navbar-nav navbar-right">
            <ul class="sm sm-dox nav navbar-nav navbar-right" id="main-menu">
                <li><a href="index.html">Overview</a></li>
                <li><a href="install.html">Installation</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="wrench-101.html">WRENCH 101</a></li>
                <li><a href="guide.html">Guide</a></li>
                <li><a href="annotated.html">API Reference</a></li>
                <li style="float: right">
                    <input type="hidden" id="MSearchField">
                </li>
            </ul>
        </div>
    </div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                    <div style="margin-bottom: 15px;">
                        <!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Network Proximity </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#guide-networkproximity-overview">Overview</a></li>
<li class="level1"><a href="#guide-networkproximity-creating">Creating a network proximity service</a><ul><li class="level2"><a href="#guide-networkproximity-creating-properties">Network proximity service properties</a></li>
</ul>
</li>
<li class="level1"><a href="#guide-networkproximity-using">Querying a network proximity service</a></li>
</ul>
</div>
<div class="textblock"><div class="doc-type">Developer Documentation</div><div class="doc-link">Other: <a href="../user/guide-networkproximity.html">User</a> - <a href="../internal/guide-networkproximity.html">Internal</a></div><h1><a class="anchor" id="guide-networkproximity-overview"></a>
Overview</h1>
<p>A network proximity service answers queries regarding the network proximity between hosts. The service accomplishes this by periodically performing network transfer experiments between hosts, keeping a record of observed network transfer times, and computing network distances.</p>
<h1><a class="anchor" id="guide-networkproximity-creating"></a>
Creating a network proximity service</h1>
<p>In WRENCH, a network proximity service is defined by the <code><a class="el" href="classwrench_1_1_network_proximity_service.html" title="A network proximity service that continuously estimates inter-host latencies and can be queried for s...">wrench::NetworkProximityService</a></code> class, an instantiation of which requires the following parameters:</p>
<ul>
<li>The name of a host on which to start the service (this is the entry point to the service);</li>
<li>A set of hosts names in a vector (<code>std::vector</code>), which define which hosts are monitored by the service;</li>
<li>Maps (<code>std::map</code>) of configurable properties (<code><a class="el" href="classwrench_1_1_network_proximity_service_property.html" title="Configurable properties for a NetworkProximityService. ">wrench::NetworkProximityServiceProperty</a></code>) and configurable message payloads (<code><a class="el" href="classwrench_1_1_network_proximity_service_message_payload.html" title="Configurable message payloads for a NetworkProximityService. ">wrench::NetworkProximityServiceMessagePayload</a></code>).</li>
</ul>
<p>The example below shows how to create an instance that runs on host "Networkcentral", and can answer network distance queries about hosts "Host1", "Host2", "Host3", and "Host4". The service's properties are customized to specify that the service performs network transfer experiments on average every 60 seconds, and that the Vivaldi algorithm is used to compute network coordinates.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> np_service = simulation-&gt;<a class="code" href="classwrench_1_1_simulation.html#a7cf70e5793758149a8bf29992d870c91">add</a>(</div><div class="line">          <span class="keyword">new</span> <a class="code" href="classwrench_1_1_network_proximity_service.html">wrench::NetworkProximityService</a>(<span class="stringliteral">&quot;Networkcentral&quot;</span>, </div><div class="line">                                       {<span class="stringliteral">&quot;Host1&quot;</span>, <span class="stringliteral">&quot;Host2&quot;</span>, <span class="stringliteral">&quot;Host3&quot;</span>, <span class="stringliteral">&quot;Host4&quot;</span>},</div><div class="line">                                       {{<a class="code" href="classwrench_1_1_network_proximity_service_property.html#ae186f459f35a78e808d406f74483e418">wrench::NetworkProximityServiceProperty::NETWORK_PROXIMITY_MEASUREMENT_PERIOD</a>, <span class="stringliteral">&quot;60&quot;</span>},</div><div class="line">                                        {<a class="code" href="classwrench_1_1_network_proximity_service_property.html#a4cb766dcd609012ab68000cfd9dc11b1">wrench::NetworkProximityServiceProperty::NETWORK_PROXIMITY_SERVICE_TYPE</a>, <span class="stringliteral">&quot;VIVALDI&quot;</span>}},</div><div class="line">                                       {});</div></div><!-- fragment --><h2><a class="anchor" id="guide-networkproximity-creating-properties"></a>
Network proximity service properties</h2>
<p>The properties that can be configured for a network proximity service include:</p>
<ul>
<li><code><a class="el" href="classwrench_1_1_network_proximity_service_property.html#a180718956b9f9b7bf040cc60dcef65f7" title="The overhead, in seconds, of looking up entries for a file (default: 0) ">wrench::NetworkProximityServiceProperty::LOOKUP_OVERHEAD</a></code></li>
<li><code><a class="el" href="classwrench_1_1_network_proximity_service_property.html#a19af22a3ba877db9832cd764de95d3d8" title="The percentage of other network proximity daemons that each network proximity daemon will conduct RTT...">wrench::NetworkProximityServiceProperty::NETWORK_DAEMON_COMMUNICATION_COVERAGE</a></code></li>
<li><code><a class="el" href="classwrench_1_1_network_proximity_service_property.html#ae186f459f35a78e808d406f74483e418" title="The inter-measurement period (in seconds) to be used (default: 60) ">wrench::NetworkProximityServiceProperty::NETWORK_PROXIMITY_MEASUREMENT_PERIOD</a></code></li>
<li><code><a class="el" href="classwrench_1_1_network_proximity_service_property.html#a4a8f7599edf8a3983a0ff5ddfa3c8e2e" title="The maximum random uniformly distributed noise (in seconds) to be added to the measurement period (us...">wrench::NetworkProximityServiceProperty::NETWORK_PROXIMITY_MEASUREMENT_PERIOD_MAX_NOISE</a></code></li>
<li><code><a class="el" href="classwrench_1_1_network_proximity_service_property.html#ad29e681b572ce963991844a75794e4c2" title="The message size (in bytes) to be used in RTT measurements (default: 1024) ">wrench::NetworkProximityServiceProperty::NETWORK_PROXIMITY_MESSAGE_SIZE</a></code></li>
<li><code><a class="el" href="classwrench_1_1_network_proximity_service_property.html#a1c62b6bc5aef9b415d583aff4d44a892" title="The random (integer) number generator seed used by the service to pick RTT measurement peers (default...">wrench::NetworkProximityServiceProperty::NETWORK_PROXIMITY_PEER_LOOKUP_SEED</a></code></li>
<li><code><a class="el" href="classwrench_1_1_network_proximity_service_property.html#a4cb766dcd609012ab68000cfd9dc11b1" title="The type of network proximity implementation to be used: ">wrench::NetworkProximityServiceProperty::NETWORK_PROXIMITY_SERVICE_TYPE</a></code></li>
</ul>
<h1><a class="anchor" id="guide-networkproximity-using"></a>
Querying a network proximity service</h1>
<p>Querying a network proximity service is straightforward. For instance, to obtain a measure of the network distance between hosts "Host1" and "Host3", one simply does:</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> distance = np_service-&gt;query(std::make_pair(<span class="stringliteral">&quot;Host1&quot;</span>,<span class="stringliteral">&quot;Host2&quot;</span>));</div></div><!-- fragment --><p>This distance corresponds to half the round-trip-time, in seconds, between the two hosts. If the service is configured to use the Vivaldi coordinate-based system, as in our example above, this distance is actually derived from network coordinates, as computed by the Vivaldi algorithm. In this case one can actually ask for these coordinates for any given host:</p>
<div class="fragment"><div class="line">std::pair&lt;double,double&gt; coords = np_service-&gt;getCoordinates(<span class="stringliteral">&quot;Host1&quot;</span>);</div></div><!-- fragment --><p>See the documentation of <code><a class="el" href="classwrench_1_1_network_proximity_service.html" title="A network proximity service that continuously estimates inter-host latencies and can be queried for s...">wrench::NetworkProximityService</a></code> for more API methods. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/>
<address class="footer">
    <small>
        Generated by &#160;<a href="http://www.doxygen.org/index.html">
        <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a> 1.8.13
    </small>
</address>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-18066333-6', 'auto');
    ga('send', 'pageview');
</script>
</body>
<script type="text/javascript" src="doxy-boot.js"></script>
</html>
