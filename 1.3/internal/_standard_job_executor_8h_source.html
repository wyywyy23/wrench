<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.11"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <title>WRENCH: /home/wrench/wrench/include/wrench/services/compute/standard_job_executor/StandardJobExecutor.h Source File</title>
    <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <script type="text/javascript" src="jquery.smartmenus.js"></script>
    <!-- SmartMenus jQuery Bootstrap Addon -->
    <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
    <!-- SmartMenus jQuery plugin -->
</head>
<body>
<nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <a href="http://wrench-project.org" class="navbar-brand">
                <img alt="Logo" src="logo-horizontal.png" width="160" style="float: left"/>
                1.3
            </a>
        </div>
        <div id="main-nav" class="nav navbar-nav navbar-right">
            <ul class="sm sm-dox nav navbar-nav navbar-right" id="main-menu">
                <li><a href="index.html">Overview</a></li>
                <li><a href="install.html">Installation</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="wrench-101.html">WRENCH 101</a></li>
                <li><a href="guide.html">Guide</a></li>
                <li><a href="annotated.html">API Reference</a></li>
                <li style="float: right">
                    <input type="hidden" id="MSearchField">
                </li>
            </ul>
        </div>
    </div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                    <div style="margin-bottom: 15px;">
                        <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_a946ec3d4951f0462f08b8eca24d53fc.html">wrench</a></li><li class="navelem"><a class="el" href="dir_78f69c8f37113f3c52ce286c8cb26c80.html">services</a></li><li class="navelem"><a class="el" href="dir_78e00d7cb3eaa1760a4a1a5992629db9.html">compute</a></li><li class="navelem"><a class="el" href="dir_8e006e922fe0a574fcbda617bf2e3a2d.html">standard_job_executor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">StandardJobExecutor.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#ifndef WRENCH_MULTINODEMULTICORESTANDARDJOBEXECUTOR_H</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#define WRENCH_MULTINODEMULTICORESTANDARDJOBEXECUTOR_H</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;wrench/services/compute/ComputeService.h&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;wrench/services/compute/workunit_executor/WorkunitExecutor.h&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;wrench/services/compute/standard_job_executor/StandardJobExecutorProperty.h&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;wrench/services/compute/standard_job_executor/StandardJobExecutorMessagePayload.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;wrench/services/compute/workunit_executor/Workunit.h&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacewrench.html">wrench</a> {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keyword">class </span>Simulation;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keyword">class </span>StorageService;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keyword">class </span>FailureCause;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">/***********************/</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">/***********************/</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classwrench_1_1_standard_job_executor.html">   44</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classwrench_1_1_standard_job_executor.html">StandardJobExecutor</a> : <span class="keyword">public</span> <a class="code" href="classwrench_1_1_service.html">Service</a> {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="classwrench_1_1_standard_job_executor.html#ad3846a691cac82efeaebde4dc7b89a2d">~StandardJobExecutor</a>();</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">// Public Constructor</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="classwrench_1_1_standard_job_executor.html#aed90b8b3216347ac11693ade98317eb7">StandardJobExecutor</a> (</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                <a class="code" href="classwrench_1_1_simulation.html">Simulation</a> *<a class="code" href="classwrench_1_1_s4_u___daemon.html#a305beca7ad2fb650ad1492b7c95e93c4">simulation</a>,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                std::string callback_mailbox,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                std::string <a class="code" href="classwrench_1_1_s4_u___daemon.html#a52bc0b9a6cd248310749dac086819f00">hostname</a>,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                <a class="code" href="classwrench_1_1_standard_job.html">StandardJob</a> *job,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                std::map&lt;std::string, std::tuple&lt;unsigned long, double&gt;&gt; compute_resources,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <a class="code" href="classwrench_1_1_storage_service.html">StorageService</a>* scratch_space,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                <span class="keywordtype">bool</span> part_of_pilot_job,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                <a class="code" href="classwrench_1_1_pilot_job.html">PilotJob</a>* parent_pilot_job,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                std::map&lt;std::string, std::string&gt; property_list,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                std::map&lt;std::string, std::string&gt; <a class="code" href="classwrench_1_1_service.html#a63865f20c92027ab626ab1347b0099d2">messagepayload_list</a></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        );</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classwrench_1_1_standard_job_executor.html#aec6a1864dacefd357399bc058e3ae08f">kill</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classwrench_1_1_standard_job.html">StandardJob</a> *<a class="code" href="classwrench_1_1_standard_job_executor.html#ad2a9733a6c1b68007c13f71d75c7805f">getJob</a>();</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        std::map&lt;std::string, std::tuple&lt;unsigned long, double&gt;&gt; <a class="code" href="classwrench_1_1_standard_job_executor.html#ae6ea189c8107ee3c8288185d8e6de8f7">getComputeResources</a>();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="comment">// Get the set of files stored in scratch space by a standardjob job</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        std::set&lt;WorkflowFile*&gt; <a class="code" href="classwrench_1_1_standard_job_executor.html#a655565a462444bbf5bd6f9fd426f273f">getFilesInScratch</a>();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classwrench_1_1_simulation.html">Simulation</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordtype">void</span> cleanup() <span class="keyword">override</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        std::string callback_mailbox;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="classwrench_1_1_standard_job.html">StandardJob</a> *job;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        std::map&lt;std::string, std::tuple&lt;unsigned long, double&gt;&gt; compute_resources;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordtype">int</span> total_num_cores;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordtype">double</span> total_ram;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="classwrench_1_1_storage_service.html">StorageService</a> *scratch_space;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordtype">bool</span> part_of_pilot_job;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="comment">// if this is not a part of pilot job, then this value will be nullptr</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="classwrench_1_1_pilot_job.html">PilotJob</a>* parent_pilot_job;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="comment">// Files stored in scratch</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        std::set&lt;WorkflowFile*&gt; files_stored_in_scratch;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="comment">// Core availabilities (for each hosts, how many cores are currently available on it)</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        std::map&lt;std::string, unsigned long&gt; core_availabilities;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="comment">// RAM availabilities (for each host, host many bytes of RAM are currently available on it)</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        std::map&lt;std::string, double&gt; ram_availabilities;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="comment">// Sets of workunit executors</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        std::set&lt;std::shared_ptr&lt;WorkunitExecutor&gt;&gt; running_workunit_executors;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        std::set&lt;std::shared_ptr&lt;WorkunitExecutor&gt;&gt; finished_workunit_executors;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        std::set&lt;std::shared_ptr&lt;WorkunitExecutor&gt;&gt; failed_workunit_executors;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="comment">// Work units</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        std::set&lt;std::unique_ptr&lt;Workunit&gt;&gt; non_ready_workunits;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        std::set&lt;std::unique_ptr&lt;Workunit&gt;&gt; ready_workunits;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        std::set&lt;std::unique_ptr&lt;Workunit&gt;&gt; running_workunits;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        std::set&lt;std::unique_ptr&lt;Workunit&gt;&gt; completed_workunits;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">// Property list</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        std::map&lt;std::string, std::string&gt; property_list;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        std::map&lt;std::string, std::string&gt; default_property_values = {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                {<a class="code" href="classwrench_1_1_standard_job_executor_property.html#a3150e71e6f2107b16fc2c483c127b26f">StandardJobExecutorProperty::THREAD_STARTUP_OVERHEAD</a>, <span class="stringliteral">&quot;0&quot;</span>},</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                {<a class="code" href="classwrench_1_1_standard_job_executor_property.html#ae5ce6920c874824ce3bc02748a80204f">StandardJobExecutorProperty::CORE_ALLOCATION_ALGORITHM</a>, <span class="stringliteral">&quot;maximum&quot;</span>},</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                {<a class="code" href="classwrench_1_1_standard_job_executor_property.html#a6dec558a4ba61c4858e29c93cc33c6d6">StandardJobExecutorProperty::TASK_SELECTION_ALGORITHM</a>, <span class="stringliteral">&quot;maximum_flops&quot;</span>},</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                {<a class="code" href="classwrench_1_1_standard_job_executor_property.html#a15a713f4b9f9ba6ebb4ba4498c1d2959">StandardJobExecutorProperty::HOST_SELECTION_ALGORITHM</a>, <span class="stringliteral">&quot;best_fit&quot;</span>},</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                {<a class="code" href="classwrench_1_1_standard_job_executor_property.html#a52911ff1a2857c2b375aac08ad8019a1">StandardJobExecutorProperty::SIMULATE_COMPUTATION_AS_SLEEP</a>, <span class="stringliteral">&quot;false&quot;</span>},</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        };</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        std::map&lt;std::string, std::string&gt; default_messagepayload_values = {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                {<a class="code" href="classwrench_1_1_standard_job_executor_message_payload.html#a70624f111b00520237a8b5bde88d977a">StandardJobExecutorMessagePayload::STANDARD_JOB_DONE_MESSAGE_PAYLOAD</a>, <span class="stringliteral">&quot;1024&quot;</span>},</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                {<a class="code" href="classwrench_1_1_standard_job_executor_message_payload.html#a64c84913aae6554e5e2aae38e9b129fe">StandardJobExecutorMessagePayload::STANDARD_JOB_FAILED_MESSAGE_PAYLOAD</a>, <span class="stringliteral">&quot;1024&quot;</span>},</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        };</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordtype">int</span> main() <span class="keyword">override</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">//        void setProperty(std::string property, std::string value);</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">//        std::string getPropertyValueAsString(std::string property);</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">//        double getPropertyValueAsDouble(std::string property);</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordtype">void</span> processWorkunitExecutorCompletion(<a class="code" href="classwrench_1_1_workunit_executor.html">WorkunitExecutor</a> *workunit_executor,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                               <a class="code" href="classwrench_1_1_workunit.html">Workunit</a> *workunit);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordtype">void</span> processWorkunitExecutorFailure(<a class="code" href="classwrench_1_1_workunit_executor.html">WorkunitExecutor</a> *workunit_executor,</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                            <a class="code" href="classwrench_1_1_workunit.html">Workunit</a> *workunit,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                            std::shared_ptr&lt;FailureCause&gt; cause);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordtype">bool</span> processNextMessage();</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> computeWorkUnitMinNumCores(<a class="code" href="classwrench_1_1_workunit.html">Workunit</a> *wu);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> computeWorkUnitDesiredNumCores(<a class="code" href="classwrench_1_1_workunit.html">Workunit</a> *wu);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordtype">double</span> computeWorkUnitMinMemory(<a class="code" href="classwrench_1_1_workunit.html">Workunit</a> *wu);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;          <span class="keywordtype">void</span> dispatchReadyWorkunits();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordtype">void</span> createWorkunits();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        std::vector&lt;Workunit*&gt; sortReadyWorkunits();</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">//Clean up scratch</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordtype">void</span> cleanUpScratch();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="comment">//Store the list of files available in scratch</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordtype">void</span> StoreListOfFilesInScratch();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    };</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">/***********************/</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">/***********************/</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;};</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#endif //WRENCH_MULTINODEMULTICORESTANDARDJOBEXECUTOR_H</span></div><div class="ttc" id="classwrench_1_1_standard_job_executor_message_payload_html_a70624f111b00520237a8b5bde88d977a"><div class="ttname"><a href="classwrench_1_1_standard_job_executor_message_payload.html#a70624f111b00520237a8b5bde88d977a">wrench::StandardJobExecutorMessagePayload::STANDARD_JOB_DONE_MESSAGE_PAYLOAD</a></div><div class="ttdeci">static const std::string STANDARD_JOB_DONE_MESSAGE_PAYLOAD</div><div class="ttdoc">The number of bytes in the control message sent by the executor to state that it has completed a job...</div><div class="ttdef"><b>Definition:</b> StandardJobExecutorMessagePayload.h:30</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_property_html_a15a713f4b9f9ba6ebb4ba4498c1d2959"><div class="ttname"><a href="classwrench_1_1_standard_job_executor_property.html#a15a713f4b9f9ba6ebb4ba4498c1d2959">wrench::StandardJobExecutorProperty::HOST_SELECTION_ALGORITHM</a></div><div class="ttdeci">static const std::string HOST_SELECTION_ALGORITHM</div><div class="ttdoc">The algorithm that decides on which host a task should be placed. Possible values are: ...</div><div class="ttdef"><b>Definition:</b> StandardJobExecutorProperty.h:54</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_html_ad3846a691cac82efeaebde4dc7b89a2d"><div class="ttname"><a href="classwrench_1_1_standard_job_executor.html#ad3846a691cac82efeaebde4dc7b89a2d">wrench::StandardJobExecutor::~StandardJobExecutor</a></div><div class="ttdeci">~StandardJobExecutor()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> StandardJobExecutor.cpp:36</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_html"><div class="ttname"><a href="classwrench_1_1_standard_job_executor.html">wrench::StandardJobExecutor</a></div><div class="ttdoc">A service that knows how to execute a standard job on a multi-node multi-core platform. Note that when killed in the middle of computing, this service will set (internal) running tasks&amp;#39; states to FAILED, and likely the calling service will want to make failed tasks READY and NOT_READY again to &quot;unwind&quot; the failed executions and resubmit tasks for execution. Also, this service does not increment task failure counts, as it does not know if the kill() was an actual failure (i.e., some timeout) or a feature (i.e., a WMS changing its mind) </div><div class="ttdef"><b>Definition:</b> StandardJobExecutor.h:44</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_html_ad2a9733a6c1b68007c13f71d75c7805f"><div class="ttname"><a href="classwrench_1_1_standard_job_executor.html#ad2a9733a6c1b68007c13f71d75c7805f">wrench::StandardJobExecutor::getJob</a></div><div class="ttdeci">StandardJob * getJob()</div><div class="ttdoc">Get the executor&amp;#39;s job. </div><div class="ttdef"><b>Definition:</b> StandardJobExecutor.cpp:874</div></div>
<div class="ttc" id="classwrench_1_1_service_html"><div class="ttname"><a href="classwrench_1_1_service.html">wrench::Service</a></div><div class="ttdoc">A service that can be added to the simulation and that can be used by a WMS when executing a workflow...</div><div class="ttdef"><b>Definition:</b> Service.h:26</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_html_aed90b8b3216347ac11693ade98317eb7"><div class="ttname"><a href="classwrench_1_1_standard_job_executor.html#aed90b8b3216347ac11693ade98317eb7">wrench::StandardJobExecutor::StandardJobExecutor</a></div><div class="ttdeci">StandardJobExecutor(Simulation *simulation, std::string callback_mailbox, std::string hostname, StandardJob *job, std::map&lt; std::string, std::tuple&lt; unsigned long, double &gt;&gt; compute_resources, StorageService *scratch_space, bool part_of_pilot_job, PilotJob *parent_pilot_job, std::map&lt; std::string, std::string &gt; property_list, std::map&lt; std::string, std::string &gt; messagepayload_list)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> StandardJobExecutor.cpp:59</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_property_html_a3150e71e6f2107b16fc2c483c127b26f"><div class="ttname"><a href="classwrench_1_1_standard_job_executor_property.html#a3150e71e6f2107b16fc2c483c127b26f">wrench::StandardJobExecutorProperty::THREAD_STARTUP_OVERHEAD</a></div><div class="ttdeci">static const std::string THREAD_STARTUP_OVERHEAD</div><div class="ttdoc">The number of seconds to start a thread (default = 0) </div><div class="ttdef"><b>Definition:</b> StandardJobExecutorProperty.h:30</div></div>
<div class="ttc" id="classwrench_1_1_workunit_html"><div class="ttname"><a href="classwrench_1_1_workunit.html">wrench::Workunit</a></div><div class="ttdoc">A class to describe a unit of work that&amp;#39;s a sub-component of a StandardJob. </div><div class="ttdef"><b>Definition:</b> Workunit.h:34</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_property_html_a52911ff1a2857c2b375aac08ad8019a1"><div class="ttname"><a href="classwrench_1_1_standard_job_executor_property.html#a52911ff1a2857c2b375aac08ad8019a1">wrench::StandardJobExecutorProperty::SIMULATE_COMPUTATION_AS_SLEEP</a></div><div class="ttdeci">static const std::string SIMULATE_COMPUTATION_AS_SLEEP</div><div class="ttdoc">Simulate computation as just a sleep instead of with an actual compute thread. This is for scalabilit...</div><div class="ttdef"><b>Definition:</b> StandardJobExecutorProperty.h:60</div></div>
<div class="ttc" id="classwrench_1_1_s4_u___daemon_html_a52bc0b9a6cd248310749dac086819f00"><div class="ttname"><a href="classwrench_1_1_s4_u___daemon.html#a52bc0b9a6cd248310749dac086819f00">wrench::S4U_Daemon::hostname</a></div><div class="ttdeci">std::string hostname</div><div class="ttdoc">The name of the host on which the daemon is running. </div><div class="ttdef"><b>Definition:</b> S4U_Daemon.h:47</div></div>
<div class="ttc" id="classwrench_1_1_pilot_job_html"><div class="ttname"><a href="classwrench_1_1_pilot_job.html">wrench::PilotJob</a></div><div class="ttdoc">A pilot (i.e., non-standard) workflow job that can be submitted to a ComputeService by a WMS (via a J...</div><div class="ttdef"><b>Definition:</b> PilotJob.h:29</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_html"><div class="ttname"><a href="classwrench_1_1_standard_job.html">wrench::StandardJob</a></div><div class="ttdoc">A standard (i.e., non-pilot) workflow job that can be submitted to a ComputeService by a WMS (via a J...</div><div class="ttdef"><b>Definition:</b> StandardJob.h:38</div></div>
<div class="ttc" id="classwrench_1_1_simulation_html"><div class="ttname"><a href="classwrench_1_1_simulation.html">wrench::Simulation</a></div><div class="ttdoc">A class that provides basic simulation methods. </div><div class="ttdef"><b>Definition:</b> Simulation.h:34</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_property_html_a6dec558a4ba61c4858e29c93cc33c6d6"><div class="ttname"><a href="classwrench_1_1_standard_job_executor_property.html#a6dec558a4ba61c4858e29c93cc33c6d6">wrench::StandardJobExecutorProperty::TASK_SELECTION_ALGORITHM</a></div><div class="ttdeci">static const std::string TASK_SELECTION_ALGORITHM</div><div class="ttdoc">The algorithm that decides which ready computational task, in case multiple tasks are ready...</div><div class="ttdef"><b>Definition:</b> StandardJobExecutorProperty.h:48</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_html_aec6a1864dacefd357399bc058e3ae08f"><div class="ttname"><a href="classwrench_1_1_standard_job_executor.html#aec6a1864dacefd357399bc058e3ae08f">wrench::StandardJobExecutor::kill</a></div><div class="ttdeci">void kill()</div><div class="ttdoc">Kill the executor. </div><div class="ttdef"><b>Definition:</b> StandardJobExecutor.cpp:233</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_property_html_ae5ce6920c874824ce3bc02748a80204f"><div class="ttname"><a href="classwrench_1_1_standard_job_executor_property.html#ae5ce6920c874824ce3bc02748a80204f">wrench::StandardJobExecutorProperty::CORE_ALLOCATION_ALGORITHM</a></div><div class="ttdeci">static const std::string CORE_ALLOCATION_ALGORITHM</div><div class="ttdoc">The algorithm that decides how many cores are given to a computational task. Possible values are: ...</div><div class="ttdef"><b>Definition:</b> StandardJobExecutorProperty.h:41</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_html_a655565a462444bbf5bd6f9fd426f273f"><div class="ttname"><a href="classwrench_1_1_standard_job_executor.html#a655565a462444bbf5bd6f9fd426f273f">wrench::StandardJobExecutor::getFilesInScratch</a></div><div class="ttdeci">std::set&lt; WorkflowFile * &gt; getFilesInScratch()</div><div class="ttdoc">Get the set of files stored in scratch space during the standard job&amp;#39;s execution. ...</div><div class="ttdef"><b>Definition:</b> StandardJobExecutor.cpp:865</div></div>
<div class="ttc" id="classwrench_1_1_service_html_a63865f20c92027ab626ab1347b0099d2"><div class="ttname"><a href="classwrench_1_1_service.html#a63865f20c92027ab626ab1347b0099d2">wrench::Service::messagepayload_list</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; messagepayload_list</div><div class="ttdoc">The service&amp;#39;s messagepayload list. </div><div class="ttdef"><b>Definition:</b> Service.h:107</div></div>
<div class="ttc" id="classwrench_1_1_s4_u___daemon_html_a305beca7ad2fb650ad1492b7c95e93c4"><div class="ttname"><a href="classwrench_1_1_s4_u___daemon.html#a305beca7ad2fb650ad1492b7c95e93c4">wrench::S4U_Daemon::simulation</a></div><div class="ttdeci">Simulation * simulation</div><div class="ttdoc">a pointer to the simulation object </div><div class="ttdef"><b>Definition:</b> S4U_Daemon.h:82</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_html_ae6ea189c8107ee3c8288185d8e6de8f7"><div class="ttname"><a href="classwrench_1_1_standard_job_executor.html#ae6ea189c8107ee3c8288185d8e6de8f7">wrench::StandardJobExecutor::getComputeResources</a></div><div class="ttdeci">std::map&lt; std::string, std::tuple&lt; unsigned long, double &gt; &gt; getComputeResources()</div><div class="ttdoc">Get the executor&amp;#39;s compute resources. </div><div class="ttdef"><b>Definition:</b> StandardJobExecutor.cpp:882</div></div>
<div class="ttc" id="classwrench_1_1_standard_job_executor_message_payload_html_a64c84913aae6554e5e2aae38e9b129fe"><div class="ttname"><a href="classwrench_1_1_standard_job_executor_message_payload.html#a64c84913aae6554e5e2aae38e9b129fe">wrench::StandardJobExecutorMessagePayload::STANDARD_JOB_FAILED_MESSAGE_PAYLOAD</a></div><div class="ttdeci">static const std::string STANDARD_JOB_FAILED_MESSAGE_PAYLOAD</div><div class="ttdoc">The number of bytes in the control message sent by the executor to state that a job has failed...</div><div class="ttdef"><b>Definition:</b> StandardJobExecutorMessagePayload.h:32</div></div>
<div class="ttc" id="classwrench_1_1_storage_service_html"><div class="ttname"><a href="classwrench_1_1_storage_service.html">wrench::StorageService</a></div><div class="ttdoc">The storage service base class. </div><div class="ttdef"><b>Definition:</b> StorageService.h:35</div></div>
<div class="ttc" id="classwrench_1_1_workunit_executor_html"><div class="ttname"><a href="classwrench_1_1_workunit_executor.html">wrench::WorkunitExecutor</a></div><div class="ttdoc">An service that performs a WorkUnit. </div><div class="ttdef"><b>Definition:</b> WorkunitExecutor.h:38</div></div>
<div class="ttc" id="namespacewrench_html"><div class="ttname"><a href="namespacewrench.html">wrench</a></div><div class="ttdef"><b>Definition:</b> TerminalOutput.cpp:15</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/>
<address class="footer">
    <small>
        Generated by &#160;<a href="http://www.doxygen.org/index.html">
        <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a> 1.8.11
    </small>
</address>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-18066333-6', 'auto');
    ga('send', 'pageview');
</script>
</body>
<script type="text/javascript" src="doxy-boot.js"></script>
</html>
